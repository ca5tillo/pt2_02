/*




    _______ad88888888888888888888888a, 
    ________a88888"8888888888888888888888, 
    ______,8888"__"P88888888888888888888b, 
    ______d88_________`""P88888888888888888, 
    _____,8888b_______________""88888888888888, 
    _____d8P'''__,aa,______________""888888888b 
    _____888bbdd888888ba,__,I_________"88888888, 
    _____8888888888888888ba8"_________,88888888b 
    ____,888888888888888888b,________,8888888888 
    ____(88888888888888888888,______,88888888888, 
    ____d888888888888888888888,____,8___"8888888b 
    ____88888888888888888888888__.;8'"""__(888888 
    ____8888888888888I"8888888P_,8"_,aaa,__888888 
    ____888888888888I:8888888"_,8"__`b8d'__(88888 
    ____(8888888888I'888888P'_,8)__________88888 
    _____88888888I"__8888P'__,8")__________88888 
    _____8888888I'___888"___,8"_(._.)_______88888 
    _____(8888I"_____"88,__,8"_____________,8888P 
    ______888I'_______"P8_,8"_____________,88888) 
    _____(88I'__________",8"__M""""""M___,888888' 
    ____,8I"____________,8(____"aaaa"___,8888888 
    ___,8I'____________,888a___________,8888888) 
    __,8I'____________,888888,_______,888888888 
    _,8I'____________,8888888'`-===-'888888888' 
    ,8I'____________,8888888"________88888888" 
    8I'____________,8"____88_________"888888P 
    8I____________,8'_____88__________`P888" 
    8I___________,8I______88____________"8ba,. 
    (8,_________,8P'______88______________88""8bma,. 
    _8I________,8P'_______88,______________"8b___""P8ma, 
    _(8,______,8d"________`88,_______________"8b_____`"8a 
    __8I_____,8dP_________,8X8,________________"8b.____:8b 
    __(8____,8dP'__,I____,8XXX8,________________`88,____8) 
    ___8,___8dP'__,I____,8XxxxX8,_____I,_________8X8,__,8 
    ___8I___8P'__,I____,8XxxxxxX8,_____I,________`8X88,I8 
    ___I8,__"___,I____,8XxxxxxxxX8b,____I,________8XXX88I, 
    ___`8I______I'__,8XxxxxxxxxxxxXX8____I________8XXxxXX8, 
    ____8I_____(8__,8XxxxxxxxxxxxxxxX8___I________8XxxxxxXX8, 
    ___,8I_____I[_,8XxxxxxxxxxxxxxxxxX8__8________8XxxxxxxxX8, 
    ___d8I,____I[_8XxxxxxxxxxxxxxxxxxX8b_8_______(8XxxxxxxxxX8, 
    ___888I____`8,8XxxxxxxxxxxxxxxxxxxX8_8,_____,8XxxxxxxxxxxX8 
    ___8888,____"88XxxxxxxxxxxxxxxxxxxX8)8I____.8XxxxxxxxxxxxX8 
    __,8888I_____88XxxxxxxxxxxxxxxxxxxX8_`8,__,8XxxxxxxxxxxxX8" 
    __d88888_____`8XXxxxxxxxxxxxxxxxxX8'__`8,,8XxxxxxxxxxxxX8" 
    __888888I_____`8XXxxxxxxxxxxxxxxX8'____"88XxxxxxxxxxxxX8" 
    __88888888______88XXxxxxxxxxxxXX8)______)8XXxxxxxxxxXX8" 
    __8888888I,________88888888888888________8888XxxxxXX8" 
    __(8888888I,______________________.__```"""""88888P" 
    ___88888888I,___________________,8I___8,_______I8" 
    ____"""88888I,________________,8I'____"I8,____;8" 
    ___________`8I,_____________,8I'_______`I8,___8) 
    ____________`8I,___________,8I'__________I8__:8' 
    _____________`8I,_________,8I'___________I8__:8 
    ______________`8I_______,8I'_____________`8__(8 
    _______________8I_____,8I'________________8__(8; 
    _______________8I____,8"__________________I___88, 
    ______________.8I___,8'_______________________8"8, 
    ______________(PI___'8_______________________,8,`8, 
    _____________.88'____________,@@___________.a8X8,`8, 
    _____________(88_____________@@@_________,a8XX888,`8, 
    ____________(888_____________@@'_______,d8XX8"__"b_`8, 
    ___________.8888,_____________________a8XXX8"____"a_`8, 
    __________.888X88___________________,d8XX8I"______9,_`8, 
    _________.88:8XX8,_________________a8XxX8I'_______`8__`8, 
    ________.88'_8XxX8a_____________,ad8XxX8I'________,8___`8, 
    ________d8'__8XxxxX8ba,______,ad8XxxX8I"__________8__,__`8, 
    _______(8I___8XxxxxxX888888888XxxxX8I"____________8__II__`8 
    _______8I'___"8XxxxxxxxxxxxxxxxxxX8I'____________(8__8)___8; 
    ______(8I_____8XxxxxxxxxxxxxxxxxX8"______________(8__8)___8I 
    ______8P'_____(8XxxxxxxxxxxxxxX8I'________________8,_(8___:8 
    _____(8'_______8XxxxxxxxxxxxxxX8'_________________`8,_8____8 
    _____8I________`8XxxxxxxxxxxxX8'___________________`8,8___;8 
    _____8'_________`8XxxxxxxxxxX8'_____________________`8I__,8' 
    _____8___________`8XxxxxxxxX8'_______________________8'_,8' 
    _____8____________`8XxxxxxX8'________________________8_,8' 
    _____8_____________`8XxxxX8'________________________d'_8' 
    _____8______________`8XxxX8_________________________8_8' 
    _____8________________"8X8'_________________________"8" 
    _____8,________________`88___________________________8 
    _____8I________________,8'__________________________d) 
    _____`8,_______________d8__________________________,8 
    ______(b_______________8'_________________________,8' 
    _______8,_____________dP_________________________,8' 
    _______(b_____________8'________________________,8' 
    ________8,___________d8________________________,8' 
    ________(b___________8'_______________________,8' 
    _________8,_________a8_______________________,8' 
    _________(b_________8'______________________,8' 
    __________8,_______,8______________________,8' 
    __________(b_______8'_____________________,8' 
    ___________8,_____,8_____________________,8' 
    ___________(b_____8'____________________,8' 
    ____________8,___d8____________________,8' 
    ____________(b__,8'___________________,8' 
    _____________8,,I8___________________,8' 
    _____________I8I8'__________________,8' 
    _____________`I8I__________________,8' 
    ______________I8'_________________,8' 
    ______________"8_________________,8' 
    ______________(8________________,8' 
    ______________8I_______________,8' 
    ______________(b,___8,________,8) 
    ______________`8I___"88______,8i8, 
    _______________(b,__________,8"8") 
    _______________`8I__,8______8)_8_8 
    ________________8I__8I______"__8_8 
    ________________(b__8I_________8_8 
    ________________`8__(8,________b_8, 
    _________________8___8)________"b"8, 
    _________________8___8(_________"b"8 
    _________________8___"I__________"b8, 
    _________________8________________`8) 
    _________________8_________________I8 
    _________________8_________________(8 
    _________________8,_________________8, 
    _________________Ib_________________8) 
    _________________(8_________________I8 
    __________________8_________________I8 
    __________________8_________________I8 
    __________________8,________________I8 
    __________________Ib________________8I 
    __________________(8_______________(8' 
    ___________________8_______________I8 
    ___________________8,______________8I 
    ___________________Ib_____________(8' 
    ___________________(8_____________I8 
    ___________________`8_____________8I 
    ____________________8____________(8' 
    ____________________8,___________I8 
    ____________________Ib___________8I 
    ____________________(8___________8' 
    _____________________8,_________(8 
    _____________________Ib_________I8 
    _____________________(8_________8I 
    ______________________8,________8' 
    ______________________(b_______(8 
    _______________________8,______I8 
    _______________________I8______I8 
    _______________________(8______I8 
    ________________________8______I8, 
    ________________________8______8_8, 
    ________________________8,_____8_8' 
    _______________________,I8_____"8" 
    ______________________,8"8,_____8, 
    _____________________,8'_`8_____`b 
    ____________________,8'___8______8, 
    ___________________,8'____(a_____`b 
    __________________,8'_____`8______8, 
    __________________I8/______8______`b, 
    __________________I8-/_____8_______`8, 
    __________________(8/-/____8________`8, 
    ___________________8I/-/__,8_________`8 
    ___________________`8I/--,I8________-8) 
    ____________________`8I,,d8I_______-8) 
    ______________________"bdI"8,_____-I8 
    ___________________________`8,___-I8' 
    ____________________________`8,,--I8 
    _____________________________`Ib,,I8 
    ______________________________`I8I
*/

/**************************************************************\
 *                            \\|//                           *
 *                            (O O)                           *
 *            +----------oOO---------------------+            *
 *            | Desarrollado por Miguel Castillo |            *
 *            +-------------------oOO------------+            *
 *                          |__|__|                           *
 *                           || ||                            *
 *                         ooO Ooo                            *
\**************************************************************/
window.addEventListener('load',init);

var guionDePreCompilacion = [];
var guionDeEjecucion = [];

var velocidad = 2000;
var arbolSintactico = null;
var indicepaso = 0;

function init(){
    setup_javaEditor();
    javaEditor_setText(
    `class Clase{
        public static void main(String[] args){
            int[] edad = {45, 23, 11, 9};
            String cadena = "texto";
            int numero;
            numero =5;

            /*test();*/
            for (int i = 0; i < edad.length; i++){
                edad[i] = i;
            }
        }
    }`);

    setupThreeJS();
    //setupGroupBase();
    setupLuz();
    setupAxis();
    setupSuelo();
    setupZonaLibrerias();
    //setupGroupEjecucion();
    cameraControl = new THREE.OrbitControls(camera);

    render();
       
}

function render(){
    
    cameraControl.update();
    TWEEN.update();
    /*
    scene.getObjectByName('cube').rotation.x += 0.03;
    scene.getObjectByName('cube').rotation.y += 0.03;
    //*/
    requestAnimationFrame(render);
    renderer.render(scene, camera);
}
/*
    _____Sexy?Sex
     ____?Sexy?Sexy
     ___y?Sexy?Sexy?
     ___?Sexy?Sexy?S
     ___?Sexy?Sexy?S
     __?Sexy?Sexy?Se
     _?Sexy?Sexy?Se
     _?Sexy?Sexy?Se
     _?Sexy?Sexy?Sexy?
     ?Sexy?Sexy?Sexy?Sexy
     ?Sexy?Sexy?Sexy?Sexy?Se
     ?Sexy?Sexy?Sexy?Sexy?Sex
     _?Sexy?__?Sexy?Sexy?Sex
     ___?Sex____?Sexy?Sexy?
     ___?Sex_____?Sexy?Sexy
     ___?Sex_____?Sexy?Sexy
     ____?Sex____?Sexy?Sexy
     _____?Se____?Sexy?Sex
     ______?Se__?Sexy?Sexy
     _______?Sexy?Sexy?Sex
     ________?Sexy?Sexy?sex
     _______?Sexy?Sexy?Sexy?Se
     _______?Sexy?Sexy?Sexy?Sexy?
     _______?Sexy?Sexy?Sexy?Sexy?Sexy
     _______?Sexy?Sexy?Sexy?Sexy?Sexy?S
     ________?Sexy?Sexy____?Sexy?Sexy?se
     _________?Sexy?Se_______?Sexy?Sexy?
     _________?Sexy?Se_____?Sexy?Sexy?
     _________?Sexy?S____?Sexy?Sexy
     _________?Sexy?S_?Sexy?Sexy
     ________?Sexy?Sexy?Sexy
     ________?Sexy?Sexy?S
     ________?Sexy?Sexy
     _______?Sexy?Se
     _______?Sexy?
     ______?Sexy?
     ______?Sexy?
     ______?Sexy?
     ______?Sexy
     ______?Sexy
     _______?Sex
     _______?Sex
     _______?Sex
     ______?Sexy
     ______?Sexy
     _______Sexy
     _______ Sexy?
     ________SexY


    __________MMMMMoooooooooooM8888888, 
    ________M6ooooMMMmoooooooM888888888, 
    _____Mmooo8oooooooooooooM88888888888, 
    ____MmmmooooooooooooooM88888888888888, 
    ___Moooooooooo8888888M8888888888888888, 
    __Mooooooooooooo88888M88888888888888888, 
    ___MmooooooooooooooommM88888888888888888, 
    _______M88ooooo888mooMM88888888888888888, 
    ________M88888888oommooM88888888888888888, 
    _________M888888ooooMM8888888888888888888, 
    _________MooooooooooM888888888888888888888, 
    ______888MoooooooooM8888888888888888888888, 
    ___888888MooooooooM88888888888888888888888, 
    __88888888MoooooooM8888888888mmmm888888888, 
    _888888888Mo8oooooM8888888MooooooooM888888, 
    8888888888Moo8oooM8888MM8ooooooooooooM88888, 
    8888888888Mooo88ooooM888MoooooooooooooM8888, 
    _M8o8888ooo8oo88ooo0ooMMoo888oooooooooooM88, 
    Mooo88888ooo8o88o8oooooooooo8888oooooooooM8, 
    Moo8888o8ooooo8ooooooooooooooo8888ooooooooM8, 
    Mooo88oooooooooooooooooooooooo888888oooooooM8, 
    Mooooooooooooooooooooooooooooo88888888ooooooM8, 
    _MooMooooooooooooooooooooooooooM888ooo88oooooM, 
    __Mmoooooooooooooooooooooooooo888Moooo8oooooooM, 
    ___Moooooooooo8oooooooooooooo8888MMooooooooooooM, 
    ____Moooooooo88ooooooooooooo88888MMM8oooooooooooM, 
    ____Moooooooo88oooooooooooooo88888MMMMoooooooooooM, 
    ____Moooooooo88Moooooooooooooooo88888MMMMoooooooooM, 
    ___Mooooooooo88Moooooooooooooooo8MooooMMMMoooooooooM, 
    __Mooooooooo8MMooooooooooooooo88MoooooMMMMooooooooooM, 
    _Mooooooooo88MMoom888mooooooo88MooooooMM_MMoooooooooo, 
    _M8moooooo888MMoom@@8moooo8888M8oooooooMM__MMooooooo, 
    M@88moooo888MooMom8@8mooo8888MooooooooMM___Mmoooooo0, 
    _*M8mooo8888MooooMm8mooo888M888ooooooooMM___Moooooo00, 
    ____MMMMMM8888oooooMMmmmmM88888oooooooMM_Moooooooo0, 
    __________M88Moooooo8888888888oooooooooooMMoooooooooo, 
    __________M88Mooooo8o888888888ooooooooooooMoooooooo88, 
    ___________M88Mooooo8ooo888888oooooooooooMooooooo8888, 
    ____________M888Mooo888ooooo888ooooooooooMoooooo8888M, 
    ____________M88888Moo888oooooo8888ooooooMooooooo888M8, 
    _____________M888888Mo8888oooooo8888oooMooooooo888M88, 
    ______________M8888888Mo8888ooooooooooMoooooooo88M888, 
    ________________M888888M88888oooooooooMoooooooo8M8888, 
    _________________M8oo888M888888ooooooMoooooooo8M88888, 
    __________________M8ooooMM88888888ooMooooooooM8888ooo, 
    ___________________MooooM_M88888888MooooooooM888ooooo, 
    ____________________MooooM_M888888Mooooooo8M88**ooooo, 
    _____________________MooooM_mmmmmmMoooooo8Mmooooooooo, 
    ______________________MoooQooommmmMoooMMooooooooooooo, 
    _____________________MM88ooo8ooooMMMooooooooooooooooo, 
    __________________mM8888M88o88mMmoooooooooooooooooooo, 
    ____________mMMMoooooooooM888Mmoooooooooooooooooooooo, 
    _______MMMMoooooooooooooooMMooooooooooooooooooooooooo, 
    ___MMMoooooooooooooooooMMoooooooooooooooooooooooooooo, 
    MMMooooooooooooooooooMMooooooooooooooooooooooooooooo8, 
    oooooooooooooooooooMMooooooooooooooooooooooooooooo888, 
    oooooooooooooooooMMooooooooooooooooooooooooooo8888888, 
    oooooooooooooooMMoooooooooooooooooooooooooo8888888888, 
    oooooooooooooMooooooooooooooooooooooooooo88888888888M, 
    ooooooooooooMooooooooooooooooooooooooo8888888888M____, 
    oooooooo88Mooooooooooooooooooooooo88888888888M_______, 
    oo8888888Mooooooooooooooooooooo888888MMMMMMMMMMMM888, 
    8888MMMMMooooooooooooooooooooo8888M888888888888888888, 
    8MMM888Moooooooooooooooooooo88M8ooooooooooo8888888888, 
    88oooooMoooooooooooooooooooMMoooooo888888888888888888, 
    8888888M8888oooooo88ooooooMoo888888888888888888888MM, 
    MMMMMMMM888888ooo88888oo8Mo8888888888888888888888888

    ___________$$$$$$$$$$$$$$$______________
    ________$$$$______$$$$$$$$______________
    ______$$$_____$$$$$$_$$_$$______________
    _____$____$$$$$$$$$__$__$$______________
    ___$$___$$$$$$$$$___$___$$______________
    __$$__$$$$$$$$$$___$____$$______________
    __$$$$$$$$$$$_____$$_____$$____$$$$$$___
    $$$$$$$__________$$_______$$_$$$$$$$$$$_
    _________$$$$$__$$$____$$__$__$$$$$$$$$_
    ______$$$$$$$$$_$$$$$$$$$$$$$$$$$$$$$$$$
    _____$$$$$$$$$$$$__$$$$$__$$$$$$$$$$$$$$
    ____$$$__$$$$$$$$$$$$$$$$__$$$$$$$$$__$$
    ____$$___$$$$$$$$$$$$$$$$$_$$$$$$$$$__$$
    ____$$__$$$$$$$$$$$$$$$$$$_$$$$$$$$$_$$_
    ____$$$_$$$$$$$$$$$$$$$$$$_$$$$$$$$$$$__
    ____$$$__$$$$$$$$$$$$$$$$_$$$$$$$$$$$___
    _____$$$$$$$$$$$$$$$$$$$__$$$$$$$$$_____
    _____$$$$$$$$$$$$$$$$$$$________________
    _______$$$$$$$$$$$$$$$__________________
    __________$$$$$$$$$$____________________


    ```````_1111111_``````````````````````````````````````
    ```1$¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶$₫_```````````````````````````````
    `_111_```````1₫$¶¶¶¶¶¶¶¶¶₫_```````````````````````````
    `````````````````_₫¶¶¶¶¶¶¶¶¶₫`````````````````````````
    ````````````````````1¶¶¶¶¶¶¶¶¶¶₫``````````````````````
    ```````1₫§₫1``````````₫¶¶¶¶¶¶¶¶¶¶1```_₫1``````````````
    ```_§$$$¶¶¶¶¶¶¶¶₫_``````§¶¶¶¶¶¶¶¶¶¶1``₫$$1````````````
    ````````````₫¶¶¶¶¶¶§1````1¶¶¶¶¶¶¶¶¶¶1``1¶¶§_``````````
    `````1§§₫1`````₫¶¶¶¶¶¶₫````₫¶¶¶¶$$¶¶¶$``_¶¶$``````````
    ``````₫¶¶¶¶¶₫```1¶¶¶¶¶¶¶§`````````1¶¶¶$1`1¶¶$1````````
    ````````_$¶¶¶¶$_`1§¶¶¶¶¶¶¶$1_``````1¶¶¶¶11¶¶¶$````````
    ``````````1¶¶¶¶§```¶¶¶¶¶¶¶¶¶¶¶1````1¶¶¶¶¶¶¶¶¶¶1```````
    ```````````§¶¶¶¶§1_1$¶¶¶¶¶¶¶¶¶1```₫¶¶¶¶¶¶¶¶¶¶¶§1``````
    ````````````1§¶¶¶¶₫``````1¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶$1``````
    ````````````₫¶¶¶¶¶¶1```````1§¶¶¶¶¶¶¶¶¶¶§₫§¶¶¶¶¶₫``````
    ```````````$¶¶¶¶¶¶¶§``₫¶¶₫11§¶¶¶¶¶¶¶¶¶¶$1_1§¶¶¶§``````
    ````````````````₫¶¶¶₫`_$¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶§111$¶$``````
    `````₫§`````````_$¶¶¶11§¶¶¶¶¶¶¶¶¶¶¶¶¶¶$¶¶¶¶§1₫¶¶§`````
    `````$¶§````````1¶¶¶§11¶¶¶¶¶¶¶¶¶§₫§¶¶¶$₫$¶¶¶¶¶¶¶¶§````
    `````₫¶¶¶§1``_11$¶¶¶11₫¶¶¶¶¶§1_`````1§¶$11¶¶¶¶¶¶¶$1```
    ``_```₫¶¶¶¶¶¶¶¶¶¶¶$11$¶¶¶¶$1``````````§¶¶§₫§¶¶¶¶¶¶§_``
    `₫$1```₫¶¶¶¶¶¶¶¶¶¶$11§¶¶¶¶1````````````1¶$₫₫¶¶¶¶¶¶¶₫``
    `₫¶$1```1$¶¶¶¶¶¶¶¶¶§11₫¶¶¶1``````````````1¶¶$$¶¶¶¶$1``
    `_$¶¶1````1§¶¶¶¶¶¶¶¶₫_1$¶¶¶1``````````````₫§₫₫$¶¶¶§```
    ``1¶¶¶1`````₫¶¶¶¶¶¶¶¶$1`1§¶¶¶₫```````````````1¶¶¶¶_```
    ```₫¶¶¶$````_§¶¶¶¶¶¶¶¶¶₫11111₫11`````````````1¶¶§`````
    ````₫¶¶¶¶¶₫``1¶¶¶¶¶¶¶¶¶¶¶$§§§$¶¶§`````````````_```````
    `````1¶¶¶¶¶11§¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶1````````````````````
    ```````§¶¶¶§₫¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶§````````````````````
    ```$$```1₫§§$¶¶¶¶1_``1₫$¶¶¶¶¶¶¶¶¶¶1```````````````````
    ```§¶$1````§¶¶¶₫```````1$¶¶¶¶¶¶¶¶¶₫```````````````````
    ````§¶¶¶```₫¶¶¶````````1$¶¶¶¶¶¶¶¶¶¶§``````````````````
    `````$¶¶¶11$¶¶₫````````1$¶¶¶¶¶¶¶¶¶¶¶§`````````````````
    ``````₫¶¶¶¶¶¶§1```````1¶¶¶¶¶¶¶$₫1§¶¶¶§````````````````
    ```````1§¶¶¶$§₫````_$¶¶¶¶¶¶¶¶¶1```1¶¶¶₫```````````````
    ``````````11₫$₫````_§¶¶¶¶¶¶¶¶¶1```₫¶¶¶¶§``````````````
    ````````````_§§```````1¶¶¶¶¶¶¶$1``$¶¶¶¶¶₫`````````````
    ``````````````_````11_``1¶¶¶¶¶¶$``1¶¶¶¶¶§1````````````
    ````````````````````§¶₫``1$¶¶¶¶¶§``1$¶¶¶¶§````````````
    `````````````````````$¶¶1``1¶¶¶¶¶¶```§¶¶¶¶_```````````
    `````````````````````1¶¶¶1``1¶¶¶¶¶1```§¶¶¶1```````````
    `````````````````````1¶¶¶¶1``1¶¶¶¶¶1``1¶¶¶₫```````````
    ````````````````````1¶¶¶¶¶$1``₫¶¶¶¶¶_``1¶¶§_``````````
    ````````````````````1¶¶¶¶¶¶¶1`_$¶¶¶¶1```¶¶§```````````
    ``````````````````````₫¶¶¶¶¶₫``1$¶¶¶$_``¶¶₫```````````
    ```````````````````````₫¶¶¶¶$1``₫¶¶¶¶₫``$¶1```````````
    ````````````````````````₫¶¶¶¶$``1¶¶¶¶§``1§````````````
    ````````````````````````_$¶¶¶¶1``$¶¶¶$1``_````````````
    `````````````````````````₫¶¶¶¶1``§¶¶¶¶1```````````````
    `````````````````````````1$¶¶¶1``§¶¶¶$_```````````````
    ``````````````````````````§¶¶¶₫``₫¶¶¶$````````````````
    ``````````````````````````§¶¶¶1``§¶¶¶$````````````````
    ``````````````````````````§¶¶¶1`1¶¶¶¶§````````````````
    `````````````````````````1$¶¶¶1`1¶¶¶§1````````````````
    `````````````````````````₫¶¶¶₫``§¶¶¶₫`````````````````
    ````````````````````````1¶¶¶§``1¶¶¶§``````````````````
    ````````````````````````1¶¶¶1`1¶¶¶§```````````````````
    ```````````````````````_$¶¶$``₫¶¶¶_```````````````````
    ``````````````````````1$¶¶§_`₫¶¶§`````````````````````
    `````````````````````_$¶¶$``₫¶¶₫``````````````````````
    ````````````````````1¶¶¶$1`₫¶¶1```````````````````````
    ```````````````````₫¶¶¶§1`§¶§`````````````````````````
    ``````````````````§¶¶¶₫``₫§_``````````````````````````
    `````````````````§¶¶¶1````````````````````````````````
    ````````````````₫¶¶$1`````````````````````````````````
    ```````````````1¶¶¶```````````````````````````````````
    ``````````````_$¶§_```````````````````````````````````
    ``````````````₫¶¶`````````````````````````````````````
    ``````````````§$§`````````````````````````````````````
    `````````````1₫₫1`````````````````````````````````````

*/

/******************************************************************************************************\
  ____                                                     _   _                  _                 
 |  _ \   _ __    ___    ___    ___    _ __ ___    _ __   (_) | |   __ _    ___  (_)   ___    _ __  
 | |_) | | '__|  / _ \  / __|  / _ \  | '_ ` _ \  | '_ \  | | | |  / _` |  / __| | |  / _ \  | '_ \ 
 |  __/  | |    |  __/ | (__  | (_) | | | | | | | | |_) | | | | | | (_| | | (__  | | | (_) | | | | |
 |_|     |_|     \___|  \___|  \___/  |_| |_| |_| | .__/  |_| |_|  \__,_|  \___| |_|  \___/  |_| |_|
                                                  |_|                                                                                           
\******************************************************************************************************/


/*
Recorre el ** arbolSintactico **
Inserta obj al arreglo ** guionDePreCompilacion **
En estos objetos indica que FUNCIONES usara de los helpers de dibujado

El ultimo objeto hace referencia a la funcion moverlibrerias(),  esta funcion es quien inicia la animacion
*/
function crearGuionPrecompilacion(){

    guionAdd_libMeto = function (O_o){
        switch(O_o.tipo){
            case  "defClase":
                guionDePreCompilacion.push(
                    {
                        metodo:"crearLibreria",
                        parametros:[O_o.nombre]
                    }
                );
                break;
            case "defMetodo":
                guionDePreCompilacion.push(
                    {
                        metodo:"crearMetodo",
                        parametros:[
                            O_o.nombre,
                            O_o.padre.nombre
                            ]
                    }
                );


        }

        for(let i of O_o.hijos){
            guionAdd_libMeto(i);
        }
    };

    setupGroupBase


    guionDePreCompilacion.push(
        {
            metodo:"setupGroupBase",
            parametros:[]
        }
    );

    guionDePreCompilacion.push(
        {
            metodo:"crearLibreria",
            parametros:["System"]
        }
    );

    guionAdd_libMeto(arbolSintactico);

}



/* 
Ejecuta las instrucciones que contiene el arreglo ** guionDePreCompilacion **
La animacion inicia dado que la ultima instruccion de esta lista es la llamada a moverlibrerias() quien desencadena las animaciones
de precompilacion
*/
function run_guionDePreCompilacion (){
    for(let i of guionDePreCompilacion){
        self[   i.metodo    ] (...i.parametros);
    }
}
/******************************************************************************************************/

/******************************************************************************************************\                 _                              _                 
     _              _                              _                 
    / \     _ __   (_)  _ __ ___     __ _    ___  (_)   ___    _ __  
   / _ \   | '_ \  | | | '_ ` _ \   / _` |  / __| | |  / _ \  | '_ \ 
  / ___ \  | | | | | | | | | | | | | (_| | | (__  | | | (_) | | | | |
 /_/   \_\ |_| |_| |_| |_| |_| |_|  \__,_|  \___| |_|  \___/  |_| |_|
                                                                     
\******************************************************************************************************/

/*
Busca la funcion main en el ** arbolSintactico **
inserta el el arreglo ** guionDeEjecucion** los pasos de la ejecucion

*/
function crearGuionAnimacion(){


    funcionMain = buscarFuncion(arbolSintactico, "main");

    if(funcionMain){// Si existe main lo centramos en la escena
        guionDeEjecucion.push(
            {
                metodo:"centrarMain",
                parametros:[scene.getObjectByName("group_metodo-main",true)]

            }

        );
    }


    for(let i of funcionMain.hijos){ //Recorremos los hijos de main 
        switch(i.tipo){
            case "defArreglo":
                let valores =[];
                for(let y of i.hijos){
                    valores.push(y.valor)
                }
   
                guionDeEjecucion.push(
                    {
                        metodo:"crearArreglo",
                        parametros:["main", "public", false, "int", i.nombre,valores,i.lineaInicial]

                    }
                );
                break;
            case "defVariable":
    
                guionDeEjecucion.push(
                    {
                        metodo:"crearVariable",
                        parametros:[i.nombre, "main", [i.valor], i.lineaInicial]

                    }
                );
            break;
            case "asignacionDeValor":
                
                guionDeEjecucion.push(
                    {
                        metodo:"asignarValor",
                        parametros:[i.nombre,i.valor,i.lineaInicial]

                    }
                );
            break;
            case "defFor":
                guionDeEjecucion.push(
                    {
                        metodo:"crearFOR",
                        parametros:[i.padre.nombre,i.lineaInicial]

                    }
                );
                for(let i = 0 ; i<4; i++){
                    guionDeEjecucion.push(
                        {
                            metodo:"asignarValorArreglo",
                            parametros:["edad",i,i,9]

                        }
                    );
                }
                guionDeEjecucion.push(
                    {
                        metodo:"eliminarFor",
                        parametros:[i.padre.nombre]

                    }
                );
                //console.log(i);
            break;

        }

    }

    guionDeEjecucion.push(
        {
            metodo:"finMain",
            parametros:[]

        }
    );
}

/*
Es la animacion de centrar la representacion de la funcion main()
*/

function llamadaAMetodo(nombre){
    var metodo = scene.getObjectByName("group_metodo-" + nombre,true);
}
function centrarMain(obj){//obj es todo el grupo

    var cubo = obj.getObjectByName("my_geometria",true);
    var texto = obj.getObjectByName("textito",true);

    var tweenA = new TWEEN.Tween(obj.position)// se usa obj para mover todo el grupo
    .to({ x: -groupBase.getObjectByName("group_libreria-Clase").position.x, 
          y: -groupBase.getObjectByName("group_libreria-Clase").position.y, 
          z: -groupBase.getObjectByName("group_libreria-Clase").position.z }, velocidad)
    .easing(TWEEN.Easing.Quadratic.In)
    .onStart(function (){
        cubo.material.opacity = true;
        cubo.material.visible = true;
    })
    .onComplete(function () {
        //texto.visible = true;
    });

    var tweenB = new TWEEN.Tween(cubo.scale)
    .to({ x:METODO_SCALE_X,Y:METODO_SCALE_Y,z: METODO_SCALE_Z,}, velocidad/2)
    .easing(TWEEN.Easing.Quadratic.In)
    .onComplete(function () {    
       setText(obj.getObjectByName("graphics",true),obj.my_name,true);
    });

    tweenA.chain(tweenB);
    tweenA.start();
}

/*
Busca una funcion en el arbol sintactico
*/
function buscarFuncion (rrr , name){

    if(rrr.tipo == "defMetodo" && rrr.nombre == name ){       
        return rrr;
    }else{
  

        for(let i of rrr.hijos){

             return buscarFuncion (i , name);
        }   


    }
}
/******************************************************************************************************/

/*
Metodo privado usado en btn_pasoApaso()
http://www.forosdelweb.com/f13/llamar-funcion-con-nombre-por-cadena-808443/
*/
var _ejecutarpaso = (i) => self[   guionDeEjecucion[i].metodo    ] (...guionDeEjecucion[i].parametros);


function btn_Compilar(){



    arbolSintactico = analisisSintactico_getArbol();
    //as_imprimirArbol(arbolSintactico)


    crearGuionPrecompilacion();
    run_guionDePreCompilacion();



    crearGuionAnimacion();



    $("#Compilar").addClass("desactivado");
    $("#Ejecutar").removeClass("desactivado");
    $("#PorPasos").removeClass("desactivado");

}

function btn_Ejecutar(){
    var myVar;
    var myStopFunction = () => clearInterval(myVar);
    var myTimer = function(){
        btn_pasoApaso();
        if(indicepaso >= guionDeEjecucion.length){
            myStopFunction();
        }
    }
    myVar = setInterval(function(){ myTimer() }, velocidad);
}

function btn_pasoApaso(){
    _ejecutarpaso(indicepaso)
    indicepaso += 1; 
}
function btn_Camara(){
    finMain();
}